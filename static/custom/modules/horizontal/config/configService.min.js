define(function(require){var configuration=require("json!horizontal/config/configuration"),environment=require("json!horizontal/config/environment"),pentahoInstance=configuration.paths["pentaho-instance"],dataPath=pentahoInstance+configuration.paths.data["pentaho-path"],verticalPath=(configuration.paths.images,pentahoInstance+configuration.paths.partials+"/modules/vertical/"),horizontalPath=pentahoInstance+configuration.paths["directive-route"]+"/modules/horizontal/",horizontalPathDiretive=horizontalPath+"directives/",i18n=require("json!horizontal/model/literals"),datasets=require("json!horizontal/model/datasets");setTimeout(function(){var gtranslatorinfo=$(".gtranslator-info"),gtranslatorinfo=gtranslatorinfo.offset();$(document).click(function(e){$(e.target).closest("#gTranslate-modal").length||$(e.target).is($("#gTranslate-modal-link"))||$(e.target).is($("span.gtranslator-info"))||$("#gTranslate-modal").fadeOut("fast")}),$(".gtranslator-info").mouseover(function(){$("#gTranslate-modal").fadeIn("fast")}),$("#gTranslate-modal").mouseleave(function(){$("#gTranslate-modal").fadeOut("fast")})},1e3),HTMLElement.prototype.click=function(){var evt=this.ownerDocument.createEvent("MouseEvents");evt.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),this.dispatchEvent(evt)};var _getPiwikInstance=function(){if(!1===environment.do_track)return[];var url=configuration.paths.piwik[environment.piwik].protocol+":"+configuration.paths.piwik[environment.piwik].domain+":"+configuration.paths.piwik[environment.piwik].port+configuration.paths.piwik[environment.piwik].path,basePath=configuration.paths.enviroment[environment.pentaho].domain+":"+configuration.paths.enviroment[environment.pentaho].port+"/#!";"undefined"==typeof _paq&&(window._paq=[]),window._paq.push(["enableLinkTracking"]),window._paq.push(["setTrackerUrl",url+"piwik.php"]),window.piwikBasePath=basePath,window._paq.push(["setSiteId",configuration.paths.piwik[environment.piwik].SiteId]);var d=document,g=d.createElement("script"),s=d.getElementsByTagName("head")[0];return g.type="text/javascript",g.async=!0,g.defer=!0,g.src=url+"piwik.js",s.appendChild(g),window._paq};return{getCountriesDataPath:function(){return dataPath+configuration.paths.data.cda.countryCard},isDebugMode:function(){return configuration.debugMode},isPacked:function(){return environment.packed},getImagesPath:function(){return pentahoInstance+configuration.paths.images},getVerticalPath:function(){return verticalPath},getVerticalTplPath:function(module,tplName){return verticalPath+module+"/"+tplName+(environment.packed?".min":"")+".html"},getVerticalStylePath:function(module,tplName){return verticalPath+module+"/"+tplName+".css"},getVerticalDirectiveTplPath:function(module,directiveName){return verticalPath+module+"/"+directiveName+(environment.packed?".min":"")+".html"},getVerticalDirectiveStylePath:function(module,directiveName){return verticalPath+module+"/"+directiveName+".css"},getVerticalDirectiveDataPath:function(module,directiveName){return verticalPath+module+"/"+directiveName+(environment.packed?".min":"")+".json"},getHorizontalPath:function(){return horizontalPath},getHorizontalDirectiveTplPath:function(module,tplName){return horizontalPathDiretive+module+"/"+tplName+(environment.packed?".min":"")+".html"},getHorizontalDirectiveStylePath:function(directive,styleName){return horizontalPathDiretive+directive+"/"+styleName+".css"},getHorizontalDirectiveDataPath:function(directive,jsonName){return horizontalPathDiretive+directive+"/"+jsonName+(environment.packed?".min":"")+".json"},getModalTplPath:function(action){var tpl;switch(action){case"maximize":case"maximizeRadar":case"maximizePyramid":tpl=horizontalPathDiretive+"graphic/maximize/"+action+".html";break;default:tpl=null}return console.log("Graphic context menu action template: "+tpl),tpl},getBarometerDataPath:function(){return dataPath+configuration.paths.data.cda.barometer},getBarometerCda:function(){return configuration.paths.data["cda-path"]+configuration.paths.data.cda.barometer},getGenericInformationDataPath:function(){return dataPath+configuration.paths.data.cda.genericInformation},getGenericInformationCda:function(){return configuration.paths.data["cda-path"]+configuration.paths.data.cda.genericInformation},getOshInfraestructureDataPath:function(){return dataPath+configuration.paths.data.cda.oshInfraestructure},getOshInfraestructureCda:function(){return configuration.paths.data["cda-path"]+configuration.paths.data.cda.oshInfraestructure},getOshOutcomesWorkingConditionsDataPath:function(){return dataPath+configuration.paths.data.cda.oshOutcomesWorkingConditions},getOshOutcomesWorkingConditionsCda:function(){return configuration.paths.data["cda-path"]+configuration.paths.data.cda.oshOutcomesWorkingConditions},getSteeringOshDataPath:function(){return dataPath+configuration.paths.data.cda.steeringOsh},getSteeringOshCda:function(){return configuration.paths.data["cda-path"]+configuration.paths.data.cda.steeringOsh},getCountryReportDataPath:function(){return dataPath+configuration.paths.data.cda.countryReport},getCountryReportCda:function(){return configuration.paths.data["cda-path"]+configuration.paths.data.cda.countryReport},getLiterals:function(){return i18n},getDatasets:function(){return datasets},getPiwikPath:function(){return configuration.paths.piwik[environment.piwik].protocol+":"+configuration.paths.piwik[environment.piwik].domain+":"+configuration.paths.piwik[environment.piwik].port+configuration.paths.piwik[environment.piwik].path+"piwik.js"},getPiwikInstance:_getPiwikInstance,tooglePiwik:function(val){window._paq=1==val?[]:_getPiwikInstance},dynamicallyRegisterController:function($controllerProvider,path,module,controllerName){return{myCtrl:["$q",function($q){var defer=$q.defer();return require([path],function(ctrl){$controllerProvider.register(controllerName,ctrl),defer.resolve()}),defer.promise}]}},isIE:function(){return!("Microsoft Internet Explorer"!=navigator.appName&&!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv 11/))},isMobile:function(){return!!(navigator.userAgent.match("iPhone")||navigator.userAgent.match("iPad")||navigator.userAgent.match("iPod")||navigator.userAgent.match("Android")||navigator.userAgent.match("IEMobile")||navigator.userAgent.match("Opera Mini"))}}});