define(function(require){var pv=(require("horizontal/config/configService"),require("cdf/lib/CCC/protovis")),PhysicalRiskService=function(dvtUtils,$log){return{getInfoAboutRisksData:function(){return[{name:"main",dataPart:"0",barSizeMax:15,bar_fillStyle:function(scene){var split=scene.firstAtoms.series.label,country=scene.firstAtoms.category.label;return"At least 1/4 of the time"==split?"EU28"==country?dvtUtils.getEUColor():dvtUtils.getColorCountry(1):"Less than 1/4 of the time"==split?"EU28"==country?dvtUtils.getEUColor(2):dvtUtils.getColorCountry(22):void 0},bar_call:function(){var resolution=screen.width;$(window).on("resize",function(e){resolution=screen.width}),resolution<=768?(this.add(pv.Rule).top(function(scene){var baseScale=this.getContext().chart.axes.base.scale;return scene.firstAtoms.value.label.match("%")||(scene.firstAtoms.value.label=scene.firstAtoms.value.label+"%"),baseScale("Belgium (BE)")+11}).height(null).width(null).strokeStyle("black").lineWidth(3).left(0).right(0),this.add(pv.Rule).top(function(scene){return(0,this.getContext().chart.axes.base.scale)("Norway (NO)")+11}).height(null).width(null).strokeStyle("black").lineWidth(3).left(0).right(0)):(this.add(pv.Rule).top(0).bottom(0).height(null).width(null).strokeStyle("black").lineWidth(3).left(function(scene){scene.firstAtoms.value.label.match("%")||(scene.firstAtoms.value.label=scene.firstAtoms.value.label+"%");scene.firstAtoms.category;return this.root.width()/32}),this.add(pv.Rule).top(0).bottom(0).height(null).width(null).strokeStyle("black").lineWidth(3).left(function(scene){var baseScale=this.getContext().chart.axes.base.scale;scene.firstAtoms.category,this.root.width();return resolution<960?baseScale("Switzerland (CH)")-12:baseScale("Switzerland (CH)")-this.sign.panel.barWidth}))},visualRoles:{series:"series",category:"category",value:"value"}}]}}};return PhysicalRiskService.$inject=["dvtUtils","$log"],PhysicalRiskService});