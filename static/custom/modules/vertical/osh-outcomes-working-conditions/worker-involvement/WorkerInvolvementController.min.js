define(function(require){"use strict";function controller($scope,$stateParams,$state,configService,$log,$document,dataService,$window,$sce,$compile,$timeout,dvtUtils,exportService,$rootScope){$scope.cdaOSHOutcomes=configService.getOshOutcomesWorkingConditionsCda();var i18nLiterals=configService.getLiterals();$scope.i18nLiterals=i18nLiterals,$scope.datasetList=configService.getDatasets(),$scope.datasetEurofound=$scope.datasetList.Eurofound,$scope.datasetESENER=$scope.datasetList.ESENER,$scope.countriesDataFor=[],$scope.countriesCompareWith=[],null!=$stateParams.pCountry1?$scope.pCountry1=$stateParams.pCountry1:void 0!=$rootScope.defaultCountry.code?$scope.pCountry1=$rootScope.defaultCountry.code:$scope.pCountry1=$rootScope.defaultCountryDefaultValue,null!=$stateParams.pCountry2?$scope.pCountry2=$stateParams.pCountry2:void 0!=$rootScope.defaultCountry2?$scope.pCountry2=$rootScope.defaultCountry2.code:$scope.pCountry2="0",$scope.pSplit=null!=$stateParams.pSplit?$stateParams.pSplit:"esener",$scope.datasourcesAndDates="esener"==$scope.pSplit?[$scope.datasetESENER,123]:[$scope.datasetEurofound,95],$scope.queryCountrySelect="esener"==$scope.pSplit?"getWorkerInvolvementESENERCountries":"getWorkerInvolvementEurofoundCountries",$scope.datasetCountrySelect="esener"==$scope.pSplit?$scope.datasetESENER:$scope.datasetEurofound,$scope.stories=[{promises:{story1:[dataService.getCountryWorkerInvolvementESENERData($scope.datasetESENER,$scope.pCountry1),dataService.getCountryWorkerInvolvementESENERData($scope.datasetESENER,$scope.pCountry2),dataService.getCountryWorkerInvolvementESENERData($scope.datasetESENER,"EU27_2020")]}},{promises:{story2:[dataService.getCountryWorkerInvolvementEurofoundData($scope.datasetEurofound,$scope.pCountry1),dataService.getCountryWorkerInvolvementEurofoundData($scope.datasetEurofound,$scope.pCountry2),dataService.getEU28WorkerInvolvementEurofoundData($scope.datasetEurofound)]}}],$scope.step=20,$scope.axisMax="esener"==$scope.pSplit?100:80,$scope.height="esener"==$scope.pSplit?510:530,$scope.story="esener"==$scope.pSplit?$scope.stories[0].promises.story1:$scope.stories[1].promises.story2,$scope.dashboard={},$scope.dashboard={parameters:{pCountry1:$scope.pCountry1,pCountry2:$scope.pCountry2}},$scope.relatedItems=[{title:"L22008",text:"L22041",link:"social-dialogue",icon:"dialogue"},{title:"L20683",text:"L22058",link:"prevention-companies({pIndicator:'employees-participation-in-prevention'})",icon:"prevention"}];$scope.changeSplit=function(){$(".card--block--chart").css("visibility","hidden"),void 0!==$state.current.name&&$state.transitionTo("worker-involvement",{pCountry1:$scope.pCountry1,pCountry2:$scope.pCountry2,pSplit:$scope.pSplit},{reload:!0})},$scope.countryChange=function(){void 0!==$state.current.name&&($rootScope.defaultCountry.isCookie||($rootScope.defaultCountry.code=$scope.pCountry1),"0"!=$scope.pCountry2&&($rootScope.defaultCountry2={code:$scope.pCountry2,isCookie:0}),$state.transitionTo("worker-involvement",{pCountry1:$scope.pCountry1,pCountry2:$scope.pCountry2,pSplit:$scope.pSplit},{reload:!0}))},$scope.exportData=function(promises,title,id){exportService.exportRadarData(promises,title,id)}}return controller.$inject=["$scope","$stateParams","$state","configService","$log","$document","dataService","$window","$sce","$compile","$timeout","dvtUtils","exportService","$rootScope"],controller});